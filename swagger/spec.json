{"openapi":"3.0.0","info":{"title":"API SmartClass","version":"2.0.0"},"paths":{"/class":{"get":{"summary":"Returns the class in which the user is a teacher or a student.","tags":["class","pupilRole","teacherRole"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"header","name":"Authorization","schema":{"type":"string","format":"JWT"},"required":true}],"responses":{"200":{"description":"A JSON Object of a Class","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Class"}}}},"401":{"description":"Auth is needed to perform this action."},"403":{"description":"The role of the user does not permit that action"},"498":{"description":"The token is invalid or deprecicated"},"500":{"description":"Unexpected error."}}}},"/class/teacher":{"get":{"summary":"Returns the class teacher","tags":["class","teacherRole","pupilRole"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"header","name":"Authorization","schema":{"type":"string","format":"JWT"},"required":true}],"responses":{"200":{"description":"A JSON Object of a Class","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ClassTeacher"}}}},"401":{"description":"Auth is needed to perform this action."},"403":{"description":"The role of the user does not permit that action"},"498":{"description":"The token is invalid or deprecicated"},"500":{"description":"Unexpected error."}}}},"/class/pupils":{"get":{"summary":"Returns the pupils in the class","tags":["class","teacherRole"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"header","name":"Authorization","schema":{"type":"string","format":"JWT"},"required":true}],"responses":{"200":{"description":"A JSON Object of a Class","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Pupil"}}}},"401":{"description":"Auth is needed to perform this action."},"403":{"description":"The role of the user does not permit that action"},"498":{"description":"The token is invalid or deprecicated"},"500":{"description":"Unexpected error."}}}},"/classsubjectcategories":{"get":{"summary":"Returns the class subject categories at this school","tags":["school_subject_category","pupilRole","teacherRole"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"header","name":"Authorization","schema":{"type":"string","format":"JWT"},"required":true}],"responses":{"200":{"description":"A JSON Object of a Categories","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Categories"}}}},"401":{"description":"Authorization information is missing or invalid."},"403":{"description":"The role of the user does not permit that action"},"404":{"description":"Class of the user not found"},"5XX":{"description":"Unexpected error."}}}},"/events":{"get":{"summary":"Returns all the events of class in which the user is a part of.","tags":["event","teacherRole","pupilRole"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"header","name":"Authorization","schema":{"type":"string","format":"JWT"},"required":true}],"responses":{"200":{"description":"A JSON Array of events","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Event"}}}}},"401":{"description":"Authorization information is missing or invalid."},"403":{"description":"The role of the user does not permit that action"},"404":{"description":"No event was found"},"5XX":{"description":"Unexpected error."}}},"post":{"summary":"add a new event","tags":["teacherRole","event"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"header","name":"Authorization","schema":{"type":"string","format":"JWT"},"required":true}],"requestBody":{"description":"the event to add","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventInput"}}}},"responses":{"200":{"description":"Object has been added"},"401":{"description":"Authorization information is missing or invalid."},"403":{"description":"The role of the user does not permit that action"},"5XX":{"description":"Unexpected error."}}}},"/events/today":{"get":{"summary":"Returns all events for the class for today","tags":["event","teacherRole","pupilRole"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"header","name":"Authorization","schema":{"type":"string","format":"JWT"},"required":true}],"responses":{"200":{"description":"A JSON Array of events","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Event"}}}}},"401":{"description":"Authorization information is missing or invalid."},"403":{"description":"The role of the user does not permit that action"},"404":{"description":"No task was found"},"5XX":{"description":"Unexpected error."}}}},"/events/week":{"get":{"summary":"Returns all events for the class for the week","tags":["event","teacherRole","pupilRole"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"header","name":"Authorization","schema":{"type":"string","format":"JWT"},"required":true}],"responses":{"200":{"description":"A JSON Array of events","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Event"}}}}},"401":{"description":"Authorization information is missing or invalid."},"403":{"description":"The role of the user does not permit that action"},"404":{"description":"No task was found"},"5XX":{"description":"Unexpected error."}}}},"/events/id/update":{"post":{"summary":"modify an event","tags":["event","teacherRole"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"header","name":"Authorization","schema":{"type":"string","format":"JWT"},"required":true}],"requestBody":{"description":"the event to add in db","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EventInput"}}}},"responses":{"200":{"description":"Object has been changed"},"401":{"description":"Authorization information is missing or invalid."},"403":{"description":"The role of the user does not permit that action"},"5XX":{"description":"Unexpected error."}}}},"/events/id/delete":{"get":{"summary":"Delete an event","tags":["event","teacherRole"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"header","name":"Authorization","schema":{"type":"string","format":"JWT"},"required":true}],"responses":{"200":{"description":"Object has been added"},"401":{"description":"Authorization information is missing or invalid."},"403":{"description":"The role of the user does not permit that action"},"5XX":{"description":"Unexpected error."}}}},"/login":{"post":{"summary":"take a username and a password and return a JWT Token.","tags":["login"],"requestBody":{"description":"username and password","required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"}}}}}},"responses":{"200":{"description":"A JWT token with user info"},"400":{"description":"Missing username or password"},"401":{"description":"Wrong username or password"},"404":{"description":"username does not exist"},"5XX":{"description":"Unexpected error."}}}},"/signup":{"post":{"summary":"take a username and a password and sign the user up (user is a tutor)","tags":["signup"],"requestBody":{"description":"username and password","required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"},"firstname":{"type":"string"},"lastname":{"type":"string"},"phone":{"type":"string"}}}}}},"responses":{"200":{"description":"User has been signed up"},"400":{"description":"Missing username or password"},"5XX":{"description":"Unexpected error."}}}},"/tasks":{"get":{"summary":"Returns all the task of class in which the user is a part of.","tags":["task","teacherRole","pupilRole"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"header","name":"Authorization","schema":{"type":"string","format":"JWT"},"required":true}],"responses":{"200":{"description":"A JSON Array of tasks","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Task"}}}}},"401":{"description":"Authorization information is missing or invalid."},"403":{"description":"The role of the user does not permit that action"},"404":{"description":"No task was found"},"5XX":{"description":"Unexpected error."}}},"post":{"summary":"add a new task","tags":["teacherRole","task"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"header","name":"Authorization","schema":{"type":"string","format":"JWT"},"required":true}],"requestBody":{"description":"the task to add in db","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskInput"}}}},"responses":{"200":{"description":"Object has been added"},"401":{"description":"Authorization information is missing or invalid."},"403":{"description":"The role of the user does not permit that action"},"5XX":{"description":"Unexpected error."}}}},"/tasks/today":{"get":{"summary":"Returns all the task for the class for today","tags":["task","teacherRole","pupilRole"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"header","name":"Authorization","schema":{"type":"string","format":"JWT"},"required":true}],"responses":{"200":{"description":"A JSON Array of tasks","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Task"}}}}},"401":{"description":"Authorization information is missing or invalid."},"403":{"description":"The role of the user does not permit that action"},"404":{"description":"No task was found"},"5XX":{"description":"Unexpected error."}}}},"/tasks/week":{"get":{"summary":"Returns all the task due for the class from tomorrow to the end of the week","tags":["task","teacherRole","pupilRole"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"header","name":"Authorization","schema":{"type":"string","format":"JWT"},"required":true}],"responses":{"200":{"description":"A JSON Array of tasks","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Task"}}}}},"401":{"description":"Authorization information is missing or invalid."},"403":{"description":"The role of the user does not permit that action"},"404":{"description":"No task was found"},"5XX":{"description":"Unexpected error."}}}},"/tasks/id/update":{"post":{"summary":"modify a task","tags":["task","teacherRole"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"header","name":"Authorization","schema":{"type":"string","format":"JWT"},"required":true}],"requestBody":{"description":"the task to modify","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaskInput"}}}},"responses":{"200":{"description":"Object has been added"},"401":{"description":"Authorization information is missing or invalid."},"403":{"description":"The role of the user does not permit that action"},"5XX":{"description":"Unexpected error."}}}},"/tasks/id/delete":{"get":{"summary":"Delete a task","tags":["task","teacherRole"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"header","name":"Authorization","schema":{"type":"string","format":"JWT"},"required":true}],"responses":{"200":{"description":"Object has been deleted"},"401":{"description":"Authorization information is missing or invalid."},"403":{"description":"The role of the user does not permit that action"},"5XX":{"description":"Unexpected error."}}}},"/tests":{"get":{"summary":"Returns all the tests of class in which the user is a part of.","tags":["test","teacherRole","pupilRole"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"header","name":"Authorization","schema":{"type":"string","format":"JWT"},"required":true}],"responses":{"200":{"description":"A JSON Array of tests","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Test"}}}}},"401":{"description":"Authorization information is missing or invalid."},"403":{"description":"The role of the user does not permit that action"},"404":{"description":"No task was found"},"5XX":{"description":"Unexpected error."}}},"post":{"summary":"add a new test","tags":["teacherRole","test"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"header","name":"Authorization","schema":{"type":"string","format":"JWT"},"required":true}],"requestBody":{"description":"the test to add in db","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TestInput"}}}},"responses":{"200":{"description":"Object has been added"},"401":{"description":"Authorization information is missing or invalid."},"403":{"description":"The role of the user does not permit that action"},"5XX":{"description":"Unexpected error."}}}},"/tests/unsigned":{"get":{"summary":"Returns all the tests that are not signed by the user","tags":["test","pupilRole"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"header","name":"Authorization","schema":{"type":"string","format":"JWT"},"required":true}],"responses":{"200":{"description":"A JSON Array of tests","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Test"}}}}},"401":{"description":"Authorization information is missing or invalid."},"403":{"description":"The role of the user does not permit that action"},"404":{"description":"No task was found"},"5XX":{"description":"Unexpected error."}}}},"/tests/today":{"get":{"summary":"Returns all the tests of that user for today","tags":["test","pupilRole"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"header","name":"Authorization","schema":{"type":"string","format":"JWT"},"required":true}],"responses":{"200":{"description":"A JSON Array of tests","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Test"}}}}},"401":{"description":"Authorization information is missing or invalid."},"403":{"description":"The role of the user does not permit that action"},"404":{"description":"No task was found"},"5XX":{"description":"Unexpected error."}}}},"/tests/week":{"get":{"summary":"Returns all the tests of that user for the week (start from tomorrow)","tags":["test","pupilRole"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"header","name":"Authorization","schema":{"type":"string","format":"JWT"},"required":true}],"responses":{"200":{"description":"A JSON Array of tests","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Test"}}}}},"401":{"description":"Authorization information is missing or invalid."},"403":{"description":"The role of the user does not permit that action"},"404":{"description":"No task was found"},"5XX":{"description":"Unexpected error."}}}},"/tests/id":{"patch":{"summary":"modify a test","tags":["test","teacherRole"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"header","name":"Authorization","schema":{"type":"string","format":"JWT"},"required":true}],"requestBody":{"description":"the test to modify","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TestInput"}}}},"responses":{"200":{"description":"Object has been added"},"401":{"description":"Authorization information is missing or invalid."},"403":{"description":"The role of the user does not permit that action"},"5XX":{"description":"Unexpected error."}}},"delete":{"summary":"Delete a test","tags":["test","teacherRole"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"header","name":"Authorization","schema":{"type":"string","format":"JWT"},"required":true}],"responses":{"200":{"description":"Object has been deleted"},"401":{"description":"Authorization information is missing or invalid."},"403":{"description":"The role of the user does not permit that action"},"5XX":{"description":"Unexpected error."}}}},"/tutor/pupils":{"get":{"summary":"Returns all the pupils of a tutor (with tokens)","tags":["tutorRole"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"header","name":"Authorization","schema":{"type":"string","format":"JWT"},"required":true}],"responses":{"200":{"description":"A JSON Array of pupils","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"firstname":{"type":"string"},"lastname":{"type":"string"},"token":{"type":"string"}}}}}}},"401":{"description":"Authorization information is missing or invalid."},"403":{"description":"The role of the user does not permit that action"},"404":{"description":"No task was found"},"5XX":{"description":"Unexpected error."}}}},"/add/pupil":{"post":{"summary":"Add a pupil in the list of pupils that a tutor have","tags":["tutorRole"],"security":[{"bearerAuth":[]}],"parameters":[{"in":"header","name":"Authorization","schema":{"type":"string","format":"JWT"},"required":true}],"requestBody":{"description":"the pupil that need to be added","content":{"application/json":{"schema":{"type":"object","properties":{"username":{"type":"string","format":"CHAR(255)"},"password":{"type":"string","format":"CHAR(255)"}}}}}},"responses":{"200":{"description":"relation has been added"},"401":{"description":"Authorization information is missing or invalid."},"403":{"description":"The role of the user does not permit that action"},"5XX":{"description":"Unexpected error."}}}}},"components":{"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}},"responses":{"401":{"description":"JWT is"},"498":{"description":"Auth token is expired or invalid"},"MissingJWT":{"description":"le JWT n'est pas présent"}},"schemas":{"Categories":{"type":"object","properties":{"idsubcategory":{"type":"integer"},"category":{"type":"string"},"idcategory":{"type":"integer"},"schoolsubject":{"type":"string"}},"example":{"idsubcategory":5,"category":"dessin","idcategory":4,"schoolsubject":"autres"}},"Class":{"type":"object","properties":{"id":{"type":"integer","format":"INTEGER"},"classname":{"type":"string","format":"CHAR(255)"}},"example":{"id":42,"classname":"2B"}},"Event":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string","format":"CHAR(255)"},"description":{"type":"string","format":"CHAR(255)"},"date":{"type":"string","format":"DDD MMM YYY"}},"example":{"id":32,"name":"Sortie au musée","description":"Ne pas oublier son masque","date":"22 Dec 2020"}},"Pupil":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer","format":"INTEGER"},"firstname":{"type":"string","format":"CHAR(255)"},"lastname":{"type":"string","format":"CHAR(255)"},"birthdate":{"type":"string","format":"date"}}},"example":[{"id":420,"firstname":"Thomas","lastname":"Martin","birthdate":"????"},{"id":69,"firstname":"Bob","lastname":"Dubuisson","birthdate":"????"}]},"Task":{"type":"object","properties":{"id":{"type":"integer"},"title":{"type":"string","format":"CHAR(255)"},"type":{"type":"string","format":"CHAR(255)"},"date":{"type":"string","format":"DDD MMM YYY"},"category":{"type":"string","format":"CHAR(255)"},"schoolsubject":{"type":"string","format":"CHAR(255)"}},"example":{"id":18,"title":"ramener argent photo de classe","date":"25 Nov 2020","category":"Géométrie","schoolsubject":"Mathémathiques"}},"ClassTeacher":{"type":"object","properties":{"id":{"type":"integer","format":"INTEGER"},"login":{"type":"string","format":"CHAR(255)"},"firstname":{"type":"string","format":"CHAR(255)"},"lastname":{"type":"string","format":"CHAR(255)"}},"example":{"id":69,"firstname":"Antoine","lastname":"Lambert"}},"Test":{"type":"object","properties":{"id":{"type":"integer"},"title":{"type":"string","format":"CHAR(255)"},"maxvalue":{"type":"string","format":"integer"},"result":{"type":"integer"},"note":{"type":"string"},"date":{"type":"string","format":"DDD MMM YYY"},"category":{"type":"string","format":"CHAR(255)"},"schoolsubject":{"type":"string","format":"CHAR(255)"}},"example":{"id":18,"title":"interrogation de grammaire","date":"25 Nov 2020","category":"Géométrie","schoolsubject":"Mathémathiques"}},"EventInput":{"type":"object","properties":{"name":{"type":"string","format":"CHAR(255)"},"description":{"type":"string","format":"CHAR(255)"},"date":{"type":"string","format":"DDD MMM YYY"}},"example":{"name":"Sortie scolaire","description":"sortie au musée (ne pas oublier son masque)","date":"2020-12-24"},"required":["name","date"]},"TaskInput":{"type":"object","properties":{"title":{"type":"string","format":"CHAR(255)"},"type":{"type":"string","format":"CHAR(255)"},"date":{"type":"string","format":"DDD MMM YYY"},"idSchoolSubjectSubCategory":{"type":"int"}},"example":{"title":"ramener argent photo de classe","date":"2020-11-30","category":"Géométrie","idSchoolSubjectSubCategory":2},"required":["title","date","idSchoolSubjectSubCategory"]},"TestInput":{"type":"object","properties":{"title":{"type":"string","format":"CHAR(255)"},"maxvalue":{"type":"integer"},"date":{"type":"string","format":"DDD MMM YYY"},"idSchoolSubjectSubCategory":{"type":"int"}}}}},"tags":[]}